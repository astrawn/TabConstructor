<!DOCTYPE html>
<html>
<head>
	<link rel="stylesheet" href="custom.css">
	<meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Add bootstrap -->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
  <!-- Add jQuery -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

  <script>
    function addbar(){
      var text = $('#tab');
      text.val(text.val() + "  e |-------------------------------------------------------------------------------------------|\n  b |-------------------------------------------------------------------------------------------|\n  g |-------------------------------------------------------------------------------------------|\n  d |-------------------------------------------------------------------------------------------|\n  a |-------------------------------------------------------------------------------------------|\n  E |-------------------------------------------------------------------------------------------|\n\n");
    }
  </script>

  <script>
    function addchord(chord){
      switch(chord){
        case "A":

          break;
        case "B":

          break;
        case "C":

          break;
        case "D":

          break;
        case "E":

          break;
        case "F":

          break;
        case "G":

          break;
        case "Custom":

          break;

      }

    }
      
  </script>

  <script>
    function getCaretPosition(ctrl) {
      // IE < 9 Support 
      if (document.selection) {
          ctrl.focus();
          var range = document.selection.createRange();
          var rangelen = range.text.length;
          range.moveStart('character', -ctrl.value.length);
          var start = range.text.length - rangelen;
          return {
              'start': start,
              'end': start + rangelen
          };
      } // IE >=9 and other browsers
      else if (ctrl.selectionStart || ctrl.selectionStart == '0') {
          return {
              'start': ctrl.selectionStart,
              'end': ctrl.selectionEnd
          };
      } else {
          return {
              'start': 0,
              'end': 0
          };
      }
    }
  </script>

  <script>
    function setCaretPosition(ctrl, start, end) {
      // IE >= 9 and other browsers
      if (ctrl.setSelectionRange) {
          ctrl.focus();
          ctrl.setSelectionRange(start, end);
      }
      // IE < 9 
      else if (ctrl.createTextRange) {
          var range = ctrl.createTextRange();
          range.collapse(true);
          range.moveEnd('character', end);
          range.moveStart('character', start);
          range.select();
      }
    }
  </script>

  <script>
    function keyPress(e){
      var keynum;

      if(window.event) { // IE                  
        keynum = e.keyCode;
      } else if(e.which){ // Netscape/Firefox/Opera                 
        keynum = e.which;
      }

      return keynum;
    }
  </script>

  <script>
    function insert(ctrl){
      index = document.getElementById(ctrl).selectionStart;
      end = document.getElementById(ctrl).value.length;
      key = keyPress(event);
      if(key == 8 || key == 46){
        alert("backspace/delete");
        text = document.getElementById(ctrl).value;
        newtext = text.substr(0, index) + "-" + text.substr(index+1, end);
        document.getElementById(ctrl).value = newtext;
      }
      else{
        c = String.fromCharCode(key);
        text = document.getElementById(ctrl).value;
        newtext = text.substr(0, index) + c + text.substr(index+1, end-index);
        fulltext = text.substr(0, end);
        //alert(newtext);
        document.getElementById(ctrl).value = newtext;
      }
    }
  </script>
</head>
<body>
  <div class="banner">
    <div>
      <h1>TabConstructor</h1>
      <h5>Tabs made easy!</h5>
      <button>Get started</button>
    </div>  
  </div>
  <div class="customcontainer1">
    <div class="row">
      <div class="col-sm">
        <label class="customlabel" for="tab">Tab Sheet:</label>
        <textarea class="customtextarea" onkeydown="insert(this.id)" id="tab" name="tab" placeholder="  e |-------------------------------------------------------------------------------------------|&#13;&#10;  b |-------------------------------------------------------------------------------------------|&#13;&#10;  g |-------------------------------------------------------------------------------------------|&#13;&#10;  d |-------------------------------------------------------------------------------------------|&#13;&#10;  a |-------------------------------------------------------------------------------------------|&#13;&#10;  E |-------------------------------------------------------------------------------------------|&#13;&#10;"></textarea>
        <br>
      </div>
      <div class="col-sm">
        <div class="customcontainer2">
          <div class="row mt-1 ml-2">
            <button class="btn-mybtn" onClick="addbar()">Add Bar</button>
          </div>
          <label for="chords">Chords:</label>
          <select name="chords" id="chords">
            <option value="A">A</option>
            <option value="B">B</option>
            <option value="C">C</option>
            <option value="D">D</option>
          </select> 
          <br>
          <button class="btn-mybtn">Copy to Clipboard</button>
          <button class="btn-mybtn">Download as Text File</button>
        </div>
      </div>
    </div>
  </div>
</body>
</html> 